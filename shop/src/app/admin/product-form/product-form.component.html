<div class="container">
  <div class="row">
    <div class="col-md-6">
        <form class="productForm-container" #f="ngForm" (ngSubmit)="save(f.value)" >
            <mat-form-field>
              <input id="title" [(ngModel)]="product.title" #title="ngModel" name="title" matInput placeholder="Title">
            </mat-form-field>
          
            <mat-form-field>
              <input id="price" [(ngModel)]="product.price"  #price="ngModel" required [min]="0" name="price" matInput placeholder="Amount" type="number" class="example-right-align">
              <span matPrefix>$&nbsp;</span>
              <span matSuffix>.00</span>
              <mat-error  *ngIf="price.touched && price.invalid" >
                <mat-error *ngIf="price.errors.required">Price is required</mat-error>
                <mat-error *ngIf="price.errors.min">Price should be 0 or higher</mat-error>          
              </mat-error>
            </mat-form-field>

            
            <mat-form-field>
                
              <mat-select #category="ngModel"  [(ngModel)]="product.category" name="category" placeholder="Select" >
                <mat-option value=""> </mat-option>
                <mat-option *ngFor="let c of categories$ | async" [value]="c.$key">{{ c.name }}</mat-option>
                 <mat-error *ngIf="category.touched && category.invalid" >
                     <mat-error>Category Required</mat-error>
                 </mat-error>
               </mat-select> 
              
            </mat-form-field>
      
            <mat-form-field>
              <input id="imageUrl" [(ngModel)]="product.imageUrl" #imageUrl="ngModel" name="imageUrl" matInput required url placeholder="imageUrl">
              <mat-error *ngIf="imageUrl.touched && imageUrl.invalid">
                <mat-error *ngIf="imageUrl.errors.required">Image Url is required</mat-error>
                <mat-error *ngIf="imageUrl.errors.url">Please enter a valid url</mat-error>
      
              </mat-error>
            </mat-form-field>
      
          <button mat-raised-button color="accent" >Save</button>
          <button type="button" (click)="delete()" mat-raised-button color="" >Delete</button>
          </form>

    </div>
    <div class="col-md-6">
        <mat-card *ngIf="product.title" class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>{{ product.title }}</mat-card-title>
            </mat-card-header>
            <img mat-card-image  [src]="product.imageUrl" *ngIf="product.imageUrl">
            <mat-card-content>
              <p>
                {{ product.price | currency:'USD':true }}
              </p>
            </mat-card-content>
            
          </mat-card>
    </div>
  </div>
</div>



    
